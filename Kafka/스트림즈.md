# 스트림즈

적재된 데이터를 상태기반 또는 비상태기반으로 실시간 변환 하여 다른 토픽에 적재하는 라이브러리

카프카 스트림즈는 카프카에서 공식적으로 지원하는 라이브러리이다.
그렇기 때문에 카프카 클러스터와 완벽하게 호환되면서 스트림 처리에 필요한 기능들을 제공한다.

스트림즈 어플리케이션 또는 카프카 브로커의 장애가 발생하더라도 정확힌 한번은 할 수 있도록 장애 허용 시스템을 가지고 있어 안정성이 뛰어나다.

카프카 운영시 실시간 처리를 해야 하는 필요성이 있다면 카프카 스트림즈 어플리케이션을 개발하는 것을 1순위로 고려하는 것이 좋다.

스트림즈 어플리케이션은 내부적으로 스레드를 1개 이상 생성 가능, 스레드는 1개 이상의 태스크를 가진다.

태스크(task)는 스트림즈 어플리케이션의 데이터 처리 최소 단위

만약 3개의 파티션으로 이루어진 토픽을 처리하는 스트림즈 어플리케이션을 실행 -> 내부에 3개의 테스트가 생긴다.

컨슈머 그룹으로 이루어진 컨슈머 스레드를 여러개 실행하는 것과 비슷 -> 병렬처리를 하기 위해

실제 운영환경 에서는 장애가 발생하더라도 안정적으로 운영할 수 있도록 2개 이상의 서버로 구성하여 운영 -> 장애가 발생하더라도 안전하게 스트림 처리 가능

## 카프카 스트림즈 구조

카프카 스트림즈의 구조와 사용 방법을 알기 위해서는 토폴로지에 대하여 알아야 한다.

### 토폴로지

2개 이상의 노드들과 선으로 이루어진 집합 링(ring)형, 트리(tree)형, 성(start)형이 있다.

카프카 스트림즈에서는 토폴로지를 이루는 노드를 하나의 프로세서라고 부르고 노드와 노드를 이은 선을 스트림이라고 부른다.

스트림은 토픽의 데이터를 뜻하는데 이는 프로듀서와 컨슈머의 레코드와 동일하다.

프로세서에는 소스 프로세서, 스트림 프로세서, 싱크 프로세서 3가지가 있다.

- 소스 프로세서 : 데이터를 처리하기 위해 최초로 선언해야하는 노드
  
