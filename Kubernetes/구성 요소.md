
![스크린샷 2023-11-29 오후 8 19 41](https://github.com/kibongcoders/Study/assets/54662349/b778da79-fde0-4045-9bdf-f36b5aca0259)

# 마스터노드

## kubectl

쿠버네티스 클러스터에 명령을 내리는 역활
다른 구성 요소들과 다르게 바로 실행되는 바이너리 명령 형태로 배포
마스터 노드에 있을 필요 없지만 통상 적으로 API 서버와 주로 통신

## API 서버
쿠버네티스 클러스터에 중심 역활을 하는 통로 - 관리자 역활
주로 상태 값을 저장하는 etcd와 통신하지만, 그 밖의 요소들 은 API 서버를 중심으로 두고 통신하므로 API 서버의 역활도 중요하다. 

## etcd (etc 디렉터리 + distributed)
구성 요소들의 상태 값이 모두 저장되는 곳 - 관리자가 기록하는 노트
etcd외의 다른 구성 요소 들은 상태 값을 관리하지 않습니다.
etcd에 모든 것을 백업하고, etcd는 분산 저장이 가능한 key-value 저장소 이여서 하나의 etcd에서 장애가 나더라도 시스템의 가용성을 확보할 수 있습니다.

### 컨트롤 메니저
쿠버네티스 오브젝트 상태를 관리
다양한 상태 값을 관리하는 주체들이 컨트롤러 매니저에 소속돼 각자 역활을 수행

## 스케줄러
노드의 상태, 자원, 레이블, 요구 조건 등을 고려 파드를 어떤 워커 노드에 생성할 것인지를 결정하고 할당하는 역활

# 워커노드

## kubelete
파드의 구성내용(PodSpec)을 받아서  컨테이너 런타임으로 전달, 파드 안의 컨테이너들이 정상족으로 작동하는지 모니터링

## 컨테이너 런타임
파드를 이루는 컨테이너의 실행을 담당
파드 안에서 다양한 종류의 컨테이너가 문제 없이 작동하게 만드는 표준 인터페이스

## 파드
한 개 이상의 컨테이너로 단일 목적의 일을 하기 위해서 모인 단위
서버 역활이나 로그, 데이터 분석할 수도 있다.
중요한 점은 파드는 언제든지 죽을 수 있는 존재이고 다른 것과 달리 그렇게 설계 되어 디자인 됐다.

# 선택 가능한 구성요소

## 네트워크 플러그인
쿠버네티스 클러스터의 통신을 위해서 네트워크 플러그인을 선택하고 구성해야한다.
일반적으로 CNI로 구성 CNI에는 캘리코, 프래널, 실리움, 큐브 라우터, 로마나, 위브넷, Canal이 있음

## CoreDNS
빠르고 유연한 DNS
쿠버네티스 클러스터에서 도메인 이름을 이용해 통신하는데 사용


